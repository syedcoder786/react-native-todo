{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\reat-native-todo\\\\client\\\\src\\\\components\\\\todo\\\\ShowTodos.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { connect } from 'react-redux';\nimport { fetchTodos, deleteTodo } from \"../../actions/todosActions\";\n\nvar ShowTodos = function (_Component) {\n  _inherits(ShowTodos, _Component);\n\n  var _super = _createSuper(ShowTodos);\n\n  function ShowTodos() {\n    var _this;\n\n    _classCallCheck(this, ShowTodos);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      id: _this.props.user.id,\n      isAuthenticated: true\n    };\n\n    _this.del = function (id) {\n      console.log('Pressed: ' + id);\n\n      _this.props.deleteTodo({\n        id: id\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ShowTodos, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var id = this.props.user.id;\n      this.props.fetchTodos({\n        id: id\n      });\n      var x = setInterval(function () {\n        if (_this2.state.isAuthenticated) {\n          console.log(_this2.state.isAuthenticated);\n\n          _this2.props.fetchTodos({\n            id: id\n          });\n        } else {\n          clearInterval(x);\n        }\n      }, 3000);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var isAuthenticated = this.props.isAuthenticated;\n\n      if (isAuthenticated !== prevProps.auth.isAuthenticated) {\n        this.setState({\n          isAuthenticated: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var todosItems = this.props.todos.map(function (_ref) {\n        var _id = _ref._id,\n            todo = _ref.todo;\n        return React.createElement(View, {\n          style: styles.todo,\n          key: _id,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }\n        }, React.createElement(Text, {\n          style: styles.todoTodo,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }\n        }, todo), React.createElement(Text, {\n          style: styles.del,\n          onPress: function onPress() {\n            _this3.del(_id);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }\n        }, \"X\"));\n      });\n      return React.createElement(ScrollView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.todos,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: styles.todosdiscp,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 19\n        }\n      }, \"Todo List\"), this.props.todosLoading ? React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 44\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 50\n        }\n      }, \"Loading...\")) : todosItems, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 19\n        }\n      }, '\\n'), React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 19\n        }\n      }, '\\n')));\n    }\n  }]);\n\n  return ShowTodos;\n}(Component);\n\nvar styles = StyleSheet.create({\n  todos: {\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 15\n  },\n  todosdiscp: {\n    padding: 5,\n    fontSize: 22,\n    fontWeight: 'bold',\n    marginBottom: 5\n  },\n  todo: {\n    width: 300,\n    padding: 8,\n    borderWidth: 1.5,\n    borderColor: \"#ddd\",\n    backgroundColor: '#eee',\n    borderRadius: 10,\n    marginBottom: 10,\n    flexDirection: 'row'\n  },\n  todoTodo: {\n    fontSize: 22,\n    color: '#3D3C3A'\n  },\n  del: {\n    padding: 8,\n    position: 'absolute',\n    right: 4,\n    color: 'red',\n    fontSize: 22,\n    fontWeight: 'bold'\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    todos: state.todos.items,\n    todosLoading: state.todos.todosLoading,\n    isAuthenticated: state.auth.isAuthenticated\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchTodos: fetchTodos,\n  deleteTodo: deleteTodo\n})(ShowTodos);","map":{"version":3,"sources":["E:/reat-native-todo/client/src/components/todo/ShowTodos.js"],"names":["React","Component","connect","fetchTodos","deleteTodo","ShowTodos","state","id","props","user","isAuthenticated","del","console","log","x","setInterval","clearInterval","prevProps","auth","setState","todosItems","todos","map","_id","todo","styles","todoTodo","todosdiscp","todosLoading","StyleSheet","create","width","alignItems","justifyContent","marginTop","padding","fontSize","fontWeight","marginBottom","borderWidth","borderColor","backgroundColor","borderRadius","flexDirection","color","position","right","mapStateToProps","items"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text, ScrollView, Button } from 'react-native';\r\nimport {connect} from 'react-redux';\r\nimport { fetchTodos, deleteTodo } from '../../actions/todosActions';\r\n\r\nclass ShowTodos extends Component {\r\n\r\n  state={\r\n    id:this.props.user.id,\r\n    isAuthenticated: true,\r\n  }\r\n\r\n    // componentDidMount(){\r\n    //   var id = this.state.id;\r\n    //   // console.log(id)\r\n    //   // if(id){\r\n    //   //   console.log(id)\r\n    //   //   this.props.fetchTodos({id})\r\n    //   //   setInterval(\r\n    //   //     () => {var id2 = this.props.user.id; this.props.fetchTodos({id2})},\r\n    //   //     5000\r\n    //   //   );\r\n    //   //   }\r\n    //   var clear = this.props.fetchTodos({id})\r\n    //   setInterval(() => {\r\n    //     this.props.fetchTodos({id})\r\n    //     if (!this.props.isAuthenticated) {\r\n    //       clearInterval(clear);\r\n    //     }\r\n    //   }, 3000);\r\n    //   }\r\n\r\n    componentDidMount(){\r\n      const id = this.props.user.id\r\n      this.props.fetchTodos({id})\r\n      var x =setInterval(\r\n        () => {\r\n          if(this.state.isAuthenticated){\r\n            console.log(this.state.isAuthenticated)\r\n            this.props.fetchTodos({id})\r\n          }else{\r\n            clearInterval(x);\r\n          }\r\n        },\r\n        3000\r\n      );\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n      const isAuthenticated = this.props.isAuthenticated;\r\n\r\n      // if(this.props.isAuthenticated){\r\n        if(isAuthenticated !== prevProps.auth.isAuthenticated){\r\n            this.setState({isAuthenticated:false})\r\n        }\r\n      // }\r\n\r\n    }\r\n\r\n    del = (id) => {\r\n      console.log('Pressed: '+id)\r\n      this.props.deleteTodo({id})\r\n    }\r\n\r\n    render(){\r\n\r\n        const todosItems = this.props.todos.map(({ _id, todo }) => (\r\n            <View style={styles.todo} key={_id}>\r\n                <Text style={styles.todoTodo}>{todo}</Text>\r\n                <Text style={styles.del} onPress={()=>{this.del(_id)}}>X</Text>\r\n                {/* <Text style={styles.reviewName}>-By {name}</Text> */}\r\n            </View>\r\n          )\r\n            \r\n        );\r\n\r\n        return (\r\n          // <View>\r\n            <ScrollView>\r\n              <View style={styles.todos}>\r\n                  <Text style={styles.todosdiscp}>\r\n                      Todo List\r\n                  </Text>\r\n                  {/* {reviewsItems} */}\r\n                  {this.props.todosLoading?<View><Text>Loading...</Text></View>:todosItems}\r\n                  <Text>{'\\n'}</Text>\r\n                  <Text>{'\\n'}</Text>\r\n                  {/* <View style={styles.review}>\r\n                      <Text style={styles.reviewReview}>Review</Text>\r\n                      <Text style={styles.reviewName}>-By name</Text>\r\n                  </View>\r\n                  <View style={styles.review}>\r\n                      <Text style={styles.reviewReview}>Review</Text>\r\n                      <Text style={styles.reviewName}>-By name</Text>\r\n                  </View> */}\r\n              </View>\r\n            </ScrollView>\r\n            // </View>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  todos: {\r\n    width: \"100%\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    // backgroundColor: \"#eee\",\r\n    marginTop: 15\r\n  },\r\n  todosdiscp: {\r\n    // width: '70%',\r\n    padding: 5,\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n    marginBottom: 5\r\n  },\r\n  todo: {\r\n    width: 300,\r\n    padding: 8,\r\n    // fontSize: 18,\r\n    borderWidth: 1.5,\r\n    borderColor: \"#ddd\",\r\n    backgroundColor: '#eee',\r\n    borderRadius: 10,\r\n    marginBottom: 10,\r\n    flexDirection:'row'\r\n  },\r\n  todoTodo: {\r\n    fontSize: 22,\r\n    color: '#3D3C3A',\r\n    // textAlign: 'center'\r\n  },\r\n  del: {\r\n    padding: 8,\r\n    position:'absolute',\r\n    right: 4,\r\n    // textAlign: 'right',\r\n    color:'red',\r\n    fontSize: 22,\r\n    fontWeight: 'bold'\r\n  }\r\n  // todoName: {\r\n  //   fontSize: 15,\r\n  //   color: '#6D6968'\r\n  // }\r\n});\r\n\r\nconst mapStateToProps=state=>({\r\n    user:state.auth.user,\r\n    todos:state.todos.items,\r\n    todosLoading:state.todos.todosLoading,\r\n    isAuthenticated:state.auth.isAuthenticated,\r\n});\r\n\r\nexport default connect(mapStateToProps, { fetchTodos,deleteTodo })(ShowTodos);\r\n// export default ShowReviews;\r\n"]},"metadata":{},"sourceType":"module"}